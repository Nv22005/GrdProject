(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[166],{54590:function(e,t,s){Promise.resolve().then(s.bind(s,89862)),Promise.resolve().then(s.bind(s,60232)),Promise.resolve().then(s.bind(s,57250))},89862:function(e,t,s){"use strict";s.d(t,{default:function(){return f}});var r=s(57437),n=s(30311),a=s(72566),i=s(93191),l=s(25524),o=()=>{let e=(0,i.NL)();return(0,l.D)({mutationFn:async e=>{let t=await a.h.document.create.$post({json:e});return await t.json()},onSuccess:t=>{console.log(t),e.invalidateQueries({queryKey:["documents"]})},onError:()=>{(0,n.Am)({title:"Error",description:"Failed to create document",variant:"destructive"})}})},d=s(92513),c=s(89627),u=s(22023),m=s(16463),x=s(2265),f=()=>{let e=(0,m.useRouter)(),{isPending:t,mutate:s}=o(),n=(0,x.useCallback)(()=>{s({title:"Untitled Resume"},{onSuccess:t=>{let s=t.data.documentId;e.push("/dashboard/document/".concat(s,"/edit"))}})},[s,e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{role:"button",className:"p-[2px] w-full cursor-pointer max-w-[164px]",onClick:n,children:(0,r.jsxs)("div",{className:" py-24 h-[183px] flex flex-col rounded-lg gap-2 w-full max-w-full items-center justify-center border bg-white hover:border-primary transition hover:shadow dark:bg-secondary ",children:[(0,r.jsx)("span",{children:(0,r.jsx)(d.Z,{size:"30px"})}),(0,r.jsx)("p",{className:"text-sm font-semibold ",children:"Blank Resume"})]})}),t&&(0,r.jsxs)("div",{className:"fixed top-0 left-0 z-[9999] right-0 flex flex-col gap-2 items-center justify-center backdrop-blur bg-black/30 w-full h-full ",children:[(0,r.jsx)(c.Z,{size:"35px",className:"animate-spin"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.Z,{}),"Creating Blank Resume..."]})]})]})}},60232:function(e,t,s){"use strict";s.d(t,{default:function(){return v}});var r=s(57437),n=s(47314),a=s(89627),i=s(96753),l=s(2265),o=s(59846),d=s(16463),c=s(22023),u=s(45188),m=s(74453),x=s(4436),f=s(32309),p=s(66648),h=e=>{let{documentId:t,status:s,title:n,themeColor:a,thumbnail:i,updatedAt:h}=e,v=(0,d.useRouter)(),g=(0,l.useMemo)(()=>h?(0,o.WU)(h,"MMM dd,yyyy"):null,[h]),b=(0,l.useCallback)(()=>{v.push("/dashboard/document/".concat(t,"/edit"))},[v,t]);return(0,r.jsx)("div",{role:"button",className:" cursor-pointer max-w-[164px] w-full border  rounded-lg transition-all h-[197px] hover:border-primary hover:shadow-md shadow-primary ",onClick:b,style:{borderColor:a||""},children:(0,r.jsxs)("div",{className:"flex flex-col w-full  h-full items-center rounded-lg justify-center bg-[#fdfdfd]  dark:bg-secondary",children:[(0,r.jsx)("div",{className:"w-full flex flex-1 px-1 pt-2",children:(0,r.jsx)("div",{className:"w-full flex flex-1 bg-white dark:bg-gray-700 rounded-t-lg justify-center items-center ",children:i?(0,r.jsx)("div",{className:" relative w-full h-full  rounded-t-lg overflow-hidden ",children:(0,r.jsx)(p.default,{fill:!0,src:i,alt:n,className:"w-full h-full object-cover object-top rounded-t-lg "})}):(0,r.jsx)(c.Z,{size:"30px"})})}),(0,r.jsxs)("div",{className:"shrink w-full border-t pt-2  pb-[9px] px-[9px] ",children:[(0,r.jsxs)("div",{className:"flex items-center  justify-between",children:[(0,r.jsx)("h5",{className:" font-semibold text-sm mb-[2px] truncate block w-[200px] ",children:n}),(0,r.jsx)("button",{className:"text-muted-foreground",children:(0,r.jsx)(u.Z,{size:"20px"})})]}),(0,r.jsxs)("div",{className:"flex items-center !text-[12px] font-medium  text-muted-foreground ",children:[(0,r.jsx)("span",{className:" flex items-center gap-[2px] ",children:"private"===s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{size:"12px"}),"Private"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{size:"12px",className:"text-primary"}),"Public"]})}),(0,r.jsx)(f.Z,{size:"15px"}),(0,r.jsx)("span",{children:g})]})]})]})})},v=()=>{var e;let{data:t,isLoading:s,isError:o,refetch:d}=(0,n.Z)(),c=null!==(e=null==t?void 0:t.data)&&void 0!==e?e:[];return(0,r.jsx)(l.Fragment,{children:s?(0,r.jsx)("div",{className:" flex items-center mx-5",children:(0,r.jsx)(a.Z,{className:"animate-spin text-black dark:text-white size-10 "})}):o?(0,r.jsx)("div",{className:"flex flex-col items-center mx-5",children:(0,r.jsxs)("button",{className:"flex items-center gap-1",onClick:()=>d(),children:[(0,r.jsx)(i.Z,{size:"1em"}),(0,r.jsx)("span",{children:"Retry"})]})}):(0,r.jsx)(r.Fragment,{children:null==c?void 0:c.map(e=>(0,r.jsx)(h,{documentId:e.documentId,title:e.title,status:e.status,updatedAt:e.updatedAt,themeColor:e.themeColor,thumbnail:e.thumbnail},e.documentId))})})}},57250:function(e,t,s){"use strict";s.d(t,{default:function(){return w}});var r=s(57437),n=s(50495),a=s(83102),i=s(19573),l=s(30311),o=s(12738),d=s(47314),c=s(72566),u=s(93191),m=s(25524),x=()=>{let e=(0,u.NL)();return(0,m.D)({mutationFn:async e=>{let t=await c.h.document.retore.archive.$patch({json:e});return await t.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["trashDocuments"]}),e.invalidateQueries({queryKey:["documents"]}),e.invalidateQueries({queryKey:["document"]})},onError:()=>{(0,l.Am)({title:"Error",description:"Failed to update document",variant:"destructive"})}})},f=s(59846),p=s(10883),h=s(54817),v=s(22023),g=s(32309),b=s(89627),j=s(39348),y=s(16463),N=s(2265),w=()=>{var e;let t=(0,y.useRouter)(),{data:s,isLoading:c}=(0,d.Z)(!0),{mutateAsync:u,isPending:m}=x(),w=null!==(e=null==s?void 0:s.data)&&void 0!==e?e:[],[k,S]=(0,N.useState)(""),A=null==w?void 0:w.filter(e=>{var t,s;return null===(s=e.title)||void 0===s?void 0:null===(t=s.toLowerCase())||void 0===t?void 0:t.includes(null==k?void 0:k.toLowerCase())}),z=e=>{t.push("/dashboard/document/".concat(e,"/edit"))},T=async(e,t,s)=>{e.stopPropagation(),u({documentId:t,status:s},{onSuccess:()=>{(0,l.Am)({title:"Success",description:"Restore document successfully"})}})};return(0,r.jsxs)(i.J2,{children:[(0,r.jsx)(i.xo,{children:(0,r.jsxs)(n.z,{className:"text-[15px] gap-[2px] items-center",variant:"outline",children:[(0,r.jsx)(p.Z,{size:"15px"}),(0,r.jsx)("span",{children:"All Trash"})]})}),(0,r.jsx)(i.yk,{className:"bg-background  w-[22rem] !px-2",align:"end",alignOffset:0,forceMount:!0,children:c?(0,r.jsxs)("div",{className:"w-full flex flex-col  gap-2 pt-3",children:[(0,r.jsx)(o.O,{className:"h-6"}),(0,r.jsx)(o.O,{className:"h-6"}),(0,r.jsx)(o.O,{className:"h-6"})]}):(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-x-1 p-2",children:[(0,r.jsx)(h.Z,{className:"w-4 h-4"}),(0,r.jsx)(a.I,{value:k,onChange:e=>S(e.target.value),className:"h-7 px-2 bg-secondary ",placeholder:"Filter by resume title"})]}),(0,r.jsxs)("div",{className:"mt-2 px-1 pb-1",children:[(0,r.jsx)("p",{className:"hidden last:block text-xs text-center text-muted-foreground ",children:"No documents found"}),null==A?void 0:A.map(e=>(0,r.jsxs)("div",{role:"button",onClick:()=>z(e.documentId),className:" text-sm rounded-s w-full hover:bg-primary/5 flex items-center justify-between py-1 px-1 ",children:[(0,r.jsxs)("div",{className:"flex items-start gap-1",children:[(0,r.jsx)(v.Z,{size:"15px",className:"mt-[3px]"}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("h5",{className:"font-semibold text-sm truncate block w-[200px]",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center !text-[12px]",children:[(0,r.jsx)("span",{className:"flex items-center  capitalize gap-[2px]",children:e.status}),(0,r.jsx)(g.Z,{size:"15px"}),(0,r.jsx)("span",{className:"items-center",children:e.updatedAt&&(0,f.WU)(e.updatedAt,"MMM dd, yyyy")})]})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{role:"button",onClick:t=>T(t,e.documentId,e.status),className:"rounded-sm hover:bg-neutral-200 w-6 h-6 flex  items-center justify-center  dark:hover:bg-gray-700",children:m?(0,r.jsx)(b.Z,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(j.Z,{className:"h-4 w-4"})})})]},e.id))]})]})})]})}},50495:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var r=s(57437),n=s(2265),a=s(71538),i=s(12218),l=s(37440);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:s,variant:n,size:i,asChild:d=!1,...c}=e,u=d?a.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:s})),ref:t,...c})});d.displayName="Button"},83102:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var r=s(57437),n=s(2265),a=s(37440);let i=n.forwardRef((e,t)=>{let{className:s,type:n,...i}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},19573:function(e,t,s){"use strict";s.d(t,{J2:function(){return l},xo:function(){return o},yk:function(){return d}});var r=s(57437),n=s(2265),a=s(61485),i=s(37440);let l=a.fC,o=a.xz;a.ee;let d=n.forwardRef((e,t)=>{let{className:s,align:n="center",sideOffset:l=4,...o}=e;return(0,r.jsx)(a.h_,{children:(0,r.jsx)(a.VY,{ref:t,align:n,sideOffset:l,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...o})})});d.displayName=a.VY.displayName},12738:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});var r=s(57437),n=s(37440);function a(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}},47314:function(e,t,s){"use strict";var r=s(72566),n=s(40932);t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,n.a)({queryKey:e?["trashDocuments"]:["documents"],queryFn:async()=>{let t=e?r.h.document.trash.all:r.h.document.all,s=await t.$get();if(!s.ok)throw Error("Failed to get documents");let{data:n,success:a}=await s.json();return{data:n,success:a}}})}},30311:function(e,t,s){"use strict";s.d(t,{Am:function(){return u},pm:function(){return m}});var r=s(2265);let n=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},72566:function(e,t,s){"use strict";s.d(t,{h:function(){return r}});let r=(0,s(98342).hc)("http://localhost:3000").api},37440:function(e,t,s){"use strict";s.d(t,{cn:function(){return a}});var r=s(44839),n=s(96164);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}}},function(e){e.O(0,[183,336,143,529,173,373,448,817,971,23,744],function(){return e(e.s=54590)}),_N_E=e.O()}]);